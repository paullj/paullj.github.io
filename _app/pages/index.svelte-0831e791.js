var oe=Object.defineProperty,re=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var K=(l,e,t)=>e in l?oe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,W=(l,e)=>{for(var t in e||(e={}))ie.call(e,t)&&K(l,t,e[t]);if(H)for(var t of H(e))ce.call(e,t)&&K(l,t,e[t]);return l},X=(l,e)=>re(l,ne(e));import{S as fe,i as ue,s as he,M as de,e as b,t as D,k as S,c as E,a as g,h as N,d as h,m as T,b as u,g as C,G as f,j as U,w as pe,x as _e,L as me,y as ve,N as Y,O as Z,P as be,q as Ee,o as ge,B as ke,Q as Ae,R as we,T as Ie,U as Le}from"../chunks/vendor-11be466b.js";const Pe="https://paullj.github.io",Se="Paul Lavender-Jones",Te="",De="https://user-images.githubusercontent.com/6764957/147861359-3ad9438f-41d1-47c8-aa05-95c7d18497f0.png";function $(l,e,t){const s=l.slice();return s[4]=e[t].title,s[5]=e[t].slug,s[6]=e[t].publishedAt,s[7]=e[t].totalReactions,s[8]=e[t].totalComments,s}function ee(l){let e,t;return{c(){e=b("li"),t=D("No posts.")},l(s){e=E(s,"LI",{});var r=g(e);t=N(r,"No posts."),r.forEach(h)},m(s,r){C(s,e,r),f(e,t)},d(s){s&&h(e)}}}function te(l){let e,t=l[7]+"",s,r,i,c;return{c(){e=b("a"),s=D(t),r=S(),i=b("span"),this.h()},l(a){e=E(a,"A",{class:!0,href:!0,"sveltekit:prefetch":!0});var o=g(e);s=N(o,t),r=T(o),i=E(o,"SPAN",{class:!0}),g(i).forEach(h),o.forEach(h),this.h()},h(){u(i,"class","i-teenyicons-heart-solid h-3 ml-1"),u(e,"class","hover:underline font-mono text-xs mr-2 flex flex-row items-center"),u(e,"href",c="/posts/"+l[5]+"#reactions"),u(e,"sveltekit:prefetch","")},m(a,o){C(a,e,o),f(e,s),f(e,r),f(e,i)},p(a,o){o&1&&t!==(t=a[7]+"")&&U(s,t),o&1&&c!==(c="/posts/"+a[5]+"#reactions")&&u(e,"href",c)},d(a){a&&h(e)}}}function se(l){let e,t=l[8]+"",s,r,i,c;return{c(){e=b("a"),s=D(t),r=S(),i=b("span"),this.h()},l(a){e=E(a,"A",{class:!0,href:!0,"sveltekit:prefetch":!0});var o=g(e);s=N(o,t),r=T(o),i=E(o,"SPAN",{class:!0}),g(i).forEach(h),o.forEach(h),this.h()},h(){u(i,"class","i-teenyicons-chat-solid h-3 ml-1"),u(e,"class","hover:underline font-mono text-xs flex flex-row items-center"),u(e,"href",c="/posts/"+l[5]+"#comments"),u(e,"sveltekit:prefetch","")},m(a,o){C(a,e,o),f(e,s),f(e,r),f(e,i)},p(a,o){o&1&&t!==(t=a[8]+"")&&U(s,t),o&1&&c!==(c="/posts/"+a[5]+"#comments")&&u(e,"href",c)},d(a){a&&h(e)}}}function le(l){let e,t,s=l[6].toLocaleDateString("en-GB",{year:"2-digit",month:"short",day:"numeric"})+"",r,i,c,a,o=l[4]+"",R,w,j,O,P,m=l[7]>0&&te(l),d=l[8]>0&&se(l);return{c(){e=b("li"),t=b("div"),r=D(s),i=S(),c=b("div"),a=b("a"),R=D(o),j=S(),m&&m.c(),O=S(),d&&d.c(),P=S(),this.h()},l(v){e=E(v,"LI",{class:!0});var p=g(e);t=E(p,"DIV",{class:!0});var L=g(t);r=N(L,s),L.forEach(h),i=T(p),c=E(p,"DIV",{class:!0});var B=g(c);a=E(B,"A",{class:!0,href:!0,"sveltekit:prefetch":!0});var M=g(a);R=N(M,o),M.forEach(h),B.forEach(h),j=T(p),m&&m.l(p),O=T(p),d&&d.l(p),P=T(p),p.forEach(h),this.h()},h(){u(t,"class","uppercase font-mono text-xs font-bold w-20 mr-1"),u(a,"class","hover:underline decoration-2px"),u(a,"href",w="/posts/"+l[5]),u(a,"sveltekit:prefetch",""),u(c,"class","flex-1"),u(e,"class","flex flex-row w-full items-center")},m(v,p){C(v,e,p),f(e,t),f(t,r),f(e,i),f(e,c),f(c,a),f(a,R),f(e,j),m&&m.m(e,null),f(e,O),d&&d.m(e,null),f(e,P)},p(v,p){p&1&&s!==(s=v[6].toLocaleDateString("en-GB",{year:"2-digit",month:"short",day:"numeric"})+"")&&U(r,s),p&1&&o!==(o=v[4]+"")&&U(R,o),p&1&&w!==(w="/posts/"+v[5])&&u(a,"href",w),v[7]>0?m?m.p(v,p):(m=te(v),m.c(),m.m(e,O)):m&&(m.d(1),m=null),v[8]>0?d?d.p(v,p):(d=se(v),d.c(),d.m(e,P)):d&&(d.d(1),d=null)},d(v){v&&h(e),m&&m.d(),d&&d.d()}}}function Ne(l){let e,t,s,r,i,c,a,o,R,w,j,O,P,m,d,v,p,L,B,M,x;e=new de({props:{title:Se,description:Te,image:De,url:Pe}});let y=l[0],k=[];for(let n=0;n<y.length;n+=1)k[n]=le($(l,y,n));let A=null;return y.length||(A=ee()),{c(){pe(e.$$.fragment),t=S(),s=b("form"),r=b("div"),i=b("select"),c=b("option"),a=D("Recent"),o=b("option"),R=D("Loved"),w=b("option"),j=D("Popular"),O=S(),P=b("span"),m=S(),d=b("label"),v=D("Posts"),p=S(),L=b("ul");for(let n=0;n<k.length;n+=1)k[n].c();A&&A.c(),this.h()},l(n){_e(e.$$.fragment,n),t=T(n),s=E(n,"FORM",{class:!0});var I=g(s);r=E(I,"DIV",{class:!0});var _=g(r);i=E(_,"SELECT",{name:!0,id:!0,class:!0});var G=g(i);c=E(G,"OPTION",{class:!0});var F=g(c);a=N(F,"Recent"),F.forEach(h),o=E(G,"OPTION",{class:!0});var J=g(o);R=N(J,"Loved"),J.forEach(h),w=E(G,"OPTION",{class:!0});var Q=g(w);j=N(Q,"Popular"),Q.forEach(h),G.forEach(h),O=T(_),P=E(_,"SPAN",{class:!0});var ae=g(P);ae.forEach(h),_.forEach(h),m=T(I),d=E(I,"LABEL",{for:!0});var z=g(d);v=N(z,"Posts"),z.forEach(h),I.forEach(h),p=T(n),L=E(n,"UL",{});var V=g(L);for(let q=0;q<k.length;q+=1)k[q].l(V);A&&A.l(V),V.forEach(h),this.h()},h(){c.__value="publishedAt",c.value=c.__value,u(c,"class","bg-white pr-2"),c.selected=!0,o.__value="reactions",o.value=o.__value,u(o,"class","bg-white pr-4"),w.__value="comments",w.value=w.__value,u(w,"class","bg-white pr-4"),u(i,"name","posts-filter"),u(i,"id","posts-filter"),u(i,"class","bg-blue decoration-dotted decoration-2px hover:decoration-solid underline appearance-none bg-transparent"),l[1]===void 0&&me(()=>l[3].call(i)),u(P,"class","inline-block absolute bottom-0 right-0 i-teenyicons-down-solid w-2 h-full pointer-events-none"),u(r,"class","relative inline-block mr-2"),u(d,"for","posts-filter"),u(s,"class","text-xl")},m(n,I){ve(e,n,I),C(n,t,I),C(n,s,I),f(s,r),f(r,i),f(i,c),f(c,a),f(i,o),f(o,R),f(i,w),f(w,j),Y(i,l[1]),f(r,O),f(r,P),f(s,m),f(s,d),f(d,v),C(n,p,I),C(n,L,I);for(let _=0;_<k.length;_+=1)k[_].m(L,null);A&&A.m(L,null),B=!0,M||(x=[Z(i,"change",l[3]),Z(s,"submit",be(l[2]))],M=!0)},p(n,[I]){if(I&2&&Y(i,n[1]),I&1){y=n[0];let _;for(_=0;_<y.length;_+=1){const G=$(n,y,_);k[_]?k[_].p(G,I):(k[_]=le(G),k[_].c(),k[_].m(L,null))}for(;_<k.length;_+=1)k[_].d(1);k.length=y.length,y.length?A&&(A.d(1),A=null):A||(A=ee(),A.c(),A.m(L,null))}},i(n){B||(Ee(e.$$.fragment,n),B=!0)},o(n){ge(e.$$.fragment,n),B=!1},d(n){ke(e,n),n&&h(t),n&&h(s),n&&h(p),n&&h(L),Ae(k,n),A&&A.d(),M=!1,we(x)}}}const Ce=!0,je=!0,Be=async({fetch:l})=>{const e=await l("/posts.json");return e.status===200?{props:{posts:(await e.json()).posts.map(s=>X(W({},s),{createdAt:new Date(s.createdAt),publishedAt:new Date(s.publishedAt),updatedAt:new Date(s.updatedAt)}))},maxage:60}:{status:e.status,error:await e.text()}};function Re(l,e,t){let s="publishedAt",{posts:r=[]}=e;function i(a){Ie.call(this,l,a)}function c(){s=Le(this),t(1,s)}return l.$$set=a=>{"posts"in a&&t(0,r=a.posts)},l.$$.update=()=>{if(l.$$.dirty&3)switch(s){case"reactions":t(0,r=r.sort((a,o)=>o.totalReactions-a.totalReactions));break;case"comments":t(0,r=r.sort((a,o)=>o.totalComments-a.totalComments));break;case"publishedAt":default:t(0,r=r.sort((a,o)=>o.publishedAt-a.publishedAt));break}},[r,s,i,c]}class Ge extends fe{constructor(e){super();ue(this,e,Re,Ne,he,{posts:0})}}export{Ge as default,je as hydrate,Be as load,Ce as prerender};
